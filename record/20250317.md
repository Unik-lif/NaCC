## 调研记录
今天打算对着昨天找到的教程尝试实际操作一下。

我们首先大概走了一遍runc create/start/restore之类的流程，看起来和容器的其实没有什么太大的区别。

我的大部分分析似乎是对的，不过相较于教程写的时候的版本，runc有一些简单的接口出现了变化。特别的，runc create时，触发的函数最后走start应该进入的是initProcess对应的start实现。以及教程内容有一些很奇怪的地方，表述有一些矛盾。

到底是谁跑了init，它是子进程还是父进程？

还是比较困惑，找到了一个新的资料：
> RunC 源码通读指南之 — Run

我没有什么办法，对于go我确实不是太懂，多看几个资料，然后再自己去重新读源码或许比较合适。

Paper里头对于生命周期的表述也可以看一下
- blackbox修改了启动流程，先启动一个shim process，在create_enclave结束之后，再跑init process
- RContainer也对此做了一些修改，在Host OS想要创建的时候，首先切换到mini-OS来做，创建一个con-shim，做一些设置，保证地址空间是安全的，然后再跑

仔细看了一下，确实会用父进程跑一下forkAndExecinChild函数。但是阅读的这些博客，或多或少都提及了一个叫做nseter的东西，它是怎么调用的？我可能不能太割裂地把我们的全流程图景与之割裂开来。

这个流程可能比较复杂，我觉得可能需要花比较多的时间去调研，先考虑一下把内存的流程搞清楚？

之后把具体的分析代码放到src_analysis部分，这边不再更新相关的东西，就直接记录今天干了什么，不写具体的东西。