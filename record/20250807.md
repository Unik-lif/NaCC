## 实验记录
今天尝试修改Qemu的源码，落实一下我们寄存器的Base & Bound的机制

base & bound机制仅仅在机密容器进程，跑到Linux的状态的时候，才会生效

M mode自然可以访问，U mode没法访问，因为他没有办法操控页表，而且agent位置的页表，确实已经通过U_bit来进行防护了

因此其实本质上就是，mode为S mode的时候，在程序运行到Linux中时，才对系统做检查

我们可以通过nacc_state和mode的值，来实现这件事情的判断

梳理一下，我们仅从这个agent区域的防护来入手，其他的事情我们暂时先别管
- 当mode为M mode，表示程序运行到了opensbi时，agent可以不需要有防御，也不需要区分现在到底这个进程是跑在机密容器进程中
- 当mode为S mode，如果是机密容器进程，nacc_state中需要有一个状态值为非零值，分别给Agent和Host OS来做区分。如果是非机密容器进程，这边应该是零值
- 当mode为U mode，如果是机密容器进程，nacc_state中可以维持一个非零值，表示机密容器进程，可以和Agent对应的值维持一致

